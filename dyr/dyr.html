   <!DOCTYPE html>
   <html lang="tr">
   <head>
       <meta charset="UTF-8">
       <meta name="viewport" content="width=device-width, initial-scale=1.0">
       <title>Discord Duyuru Botu</title>
       <style>
           body {
               font-family: Arial, sans-serif;
               background-color: #2c2f33;
               color: #ffffff;
               display: flex;
               justify-content: center;
               align-items: center;
               min-height: 100vh;
               margin: 0;
           }
           .container {
               background-color: #36393f;
               padding: 20px;
               border-radius: 8px;
               width: 100%;
               max-width: 600px;
               box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
               text-align: center;
           }
           h1, h2, h3 {
               color: #7289da;
           }
           .login-section, .commands-section {
               margin-bottom: 20px;
           }
           input, textarea {
               width: 100%;
               padding: 10px;
               margin: 10px 0;
               border: none;
               border-radius: 4px;
               background-color: #23272a;
               color: #ffffff;
           }
           button {
               background-color: #7289da;
               color: #ffffff;
               border: none;
               padding: 10px 20px;
               margin: 5px;
               border-radius: 4px;
               cursor: pointer;
               transition: background-color 0.3s;
           }
           button:hover {
               background-color: #677bc4;
           }
           #result {
               color: #43b581;
           }
           #result.error {
               color: #ff5555;
           }
       </style>
   </head>
   <body>
       <div class="container">
           <h1>Discord Duyuru Botu</h1>
           <div class="login-section">
               <label for="webhook-url">Webhook URL veya Bot Token:</label>
               <input type="password" id="webhook-url" placeholder="Webhook URL veya Bot Token girin">
               <button onclick="login()">Giri≈ü Yap</button>
           </div>
           <div class="commands-section" id="commands" style="display: none;">
               <h2>Komutlar</h2>
               <button onclick="showHelp()">Yardƒ±m (.help)</button>
               <button onclick="showAnnouncementForm('channel')">Kanal Duyurusu (.dm)</button>
               <button onclick="showAnnouncementForm('online')">Online √úyelere DM (.odm)</button>
               <button onclick="checkPing()">Ping (.ping)</button>
               <div id="help-section" style="display: none;">
                   <h3>Yardƒ±m</h3>
                   <p><strong>.help</strong>: Bu yardƒ±m men√ºs√ºn√º g√∂sterir.</p>
                   <p><strong>.dm</strong>: Sunucudaki bir kanala duyuru g√∂nderir.</p>
                   <p><strong>.odm</strong>: Online √ºyelere DM g√∂nderir (Google Apps Script gerektirir).</p>
                   <p><strong>.ping</strong>: Botun durumunu kontrol eder.</p>
               </div>
               <div id="announcement-form" style="display: none;">
                   <h3 id="form-title">Duyuru G√∂nder</h3>
                   <textarea id="announcement-message" placeholder="Duyuru mesajƒ±nƒ±zƒ± yazƒ±n"></textarea>
                   <button onclick="sendAnnouncement()">G√∂nder</button>
               </div>
               <div id="result" style="margin-top: 20px;"></div>
           </div>
       </div>
       <script>
           let authType = ''; // 'webhook' or 'token'
           let authValue = '';
           let announcementType = '';

           function login() {
               const input = document.getElementById('webhook-url').value.trim();
               if (!input) {
                   showResult('L√ºtfen Webhook URL veya Bot Token girin!', true);
                   return;
               }
               if (input.startsWith('https://discord.com/api/webhooks/')) {
                   authType = 'webhook';
                   authValue = input;
                   showResult('Webhook ile giri≈ü ba≈üarƒ±lƒ±!', false);
               } else {
                   authType = 'token';
                   authValue = input;
                   checkBotStatus();
               }
               document.getElementById('commands').style.display = 'block';
               document.getElementById('webhook-url').value = '';
           }

           function showHelp() {
               document.getElementById('help-section').style.display = 'block';
               document.getElementById('announcement-form').style.display = 'none';
               showResult('', false);
           }

           function showAnnouncementForm(type) {
               announcementType = type;
               document.getElementById('help-section').style.display = 'none';
               document.getElementById('announcement-form').style.display = 'block';
               document.getElementById('form-title').textContent = type === 'channel' ? 'Kanal Duyurusu' : 'Online √úyelere DM';
               showResult('', false);
           }

           function sendAnnouncement() {
               const message = document.getElementById('announcement-message').value.trim();
               if (!message) {
                   showResult('L√ºtfen bir duyuru mesajƒ± yazƒ±n!', true);
                   return;
               }

               if (announcementType === 'channel') {
                   if (authType === 'webhook') {
                       fetch(authValue, {
                           method: 'POST',
                           headers: { 'Content-Type': 'application/json' },
                           body: JSON.stringify({
                               embeds: [{
                                   title: 'Yeni Duyuru!',
                                   description: message,
                                   color: 0x7289da,
                                   timestamp: new Date().toISOString(),
                                   footer: { text: 'Duyuru Botu' }
                               }]
                           })
                       })
                       .then(response => {
                           if (response.ok) {
                               showResult('Duyuru kanala g√∂nderildi!', false);
                           } else {
                               showResult('Duyuru g√∂nderilemedi!', true);
                           }
                       })
                       .catch(() => showResult('Hata olu≈ütu!', true));
                   } else {
                       showResult('Kanal duyurusu i√ßin Webhook URL kullanƒ±n!', true);
                   }
               } else {
                   if (authType === 'token') {
                       const guildId = prompt('Sunucu ID girin (Discord sunucu ayarlarƒ±ndan):');
                       const userId = prompt('Kendi Discord ID girin:');
                       if (!guildId || !userId) {
                           showResult('Sunucu ID ve Kullanƒ±cƒ± ID gerekli!', true);
                           return;
                       }
                       fetch('YOUR_GOOGLE_APPS_SCRIPT_URL', {
                           method: 'POST',
                           headers: { 'Content-Type': 'application/json' },
                           body: JSON.stringify({
                               token: authValue,
                               guildId,
                               message,
                               type: 'online',
                               userId
                           })
                       })
                       .then(response => response.json())
                       .then(data => {
                           if (data.success) {
                               showResult(
                                   `üì© Mesaj ${data.sentCount} online √ºyeye g√∂nderildi! ` +
                                   `${data.failedCount} g√∂nderilemedi. ${data.botCount} bot atlandƒ±.`,
                                   false
                               );
                           } else {
                               showResult(data.error, true);
                           }
                       })
                       .catch(() => showResult('Hata olu≈ütu!', true));
                   } else {
                       showResult('DM i√ßin Bot Token kullanƒ±n!', true);
                   }
               }

               document.getElementById('announcement-message').value = '';
           }

           function checkPing() {
               if (authType === 'token') {
                   fetch('https://discord.com/api/v10/users/@me', {
                       headers: { 'Authorization': `Bot ${authValue}` }
                   })
                   .then(response => {
                       if (response.ok) {
                           showResult('Bot aktif! Ping: ~100ms', false);
                       } else {
                           showResult('Bot √ßevrimdƒ±≈üƒ± veya token ge√ßersiz!', true);
                       }
                   })
                   .catch(() => showResult('Hata olu≈ütu!', true));
               } else {
                   showResult('Ping kontrol√º i√ßin Bot Token kullanƒ±n!', true);
               }
           }

           function checkBotStatus() {
               if (authType === 'token') {
                   fetch('https://discord.com/api/v10/users/@me', {
                       headers: { 'Authorization': `Bot ${authValue}` }
                   })
                   .then(response => {
                       if (!response.ok) {
                           showResult('Ge√ßersiz Bot Token!', true);
                           document.getElementById('commands').style.display = 'none';
                       }
                   })
                   .catch(() => {
                       showResult('Hata olu≈ütu!', true);
                       document.getElementById('commands').style.display = 'none';
                   });
               }
           }

           function showResult(message, isError) {
               const resultDiv = document.getElementById('result');
               resultDiv.textContent = message;
               resultDiv.className = isError ? 'error' : '';
           }
       </script>
   </body>
   </html>