<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CRTY Software</title>
  <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}body,html{height:100%;background:#0a0a0a;color:#00ffcc;font-family:'Courier New',monospace;overflow-x:hidden;user-select:none}#particles-js{position:fixed;width:100%;height:100%;z-index:0;top:0;left:0;background:#0a0a0a}.container{position:relative;z-index:10;max-width:1200px;margin:0 auto;padding:20px}nav{background:rgba(0,0,0,0.85);padding:15px 20px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 0 20px #00ffcc;position:sticky;top:0;z-index:20}nav .logo{font-size:24px;font-weight:700;animation:glitch 2s infinite}nav ul{list-style:none;display:flex;gap:20px}nav ul li a,nav ul li button{color:#00ffcc;text-decoration:none;font-size:18px;background:0;border:0;cursor:pointer;transition:color .3s}nav ul li a:hover,nav ul li button:hover{color:#ff00ff;text-shadow:0 0 10px #ff00ff}@keyframes glitch{0%{transform:translate(0)}20%{transform:translate(-2px,2px)}40%{transform:translate(2px,-2px)}60%{transform:translate(-2px,0)}80%{transform:translate(2px,2px)}100%{transform:translate(0)}}@keyframes rgbBorderGlow{0%{border-color:#ff0000;box-shadow:0 0 10px #ff0000}33%{border-color:#00ff00;box-shadow:0 0 10px #00ff00}66%{border-color:#0000ff;box-shadow:0 0 10px #0000ff}100%{border-color:#ff0000;box-shadow:0 0 10px #ff0000}}@keyframes rgbGlow{0%{color:#ff0000;text-shadow:0 0 10px #ff0000}33%{color:#00ff00;text-shadow:0 0 10px #00ff00}66%{color:#0000ff;text-shadow:0 0 10px #0000ff}100%{color:#ff0000;text-shadow:0 0 10px #ff0000}}section{padding:60px 20px;min-height:100vh;display:none;text-align:center}section.active{display:block}section h1{font-size:48px;margin-bottom:20px;animation:rgbGlow 3s infinite}section p{font-size:18px;line-height:1.6;max-width:800px;margin:0 auto 30px;text-shadow:0 0 5px #00ffcc}button,.btn{padding:12px 24px;font-size:18px;color:#00ffcc;background:#111;border:2px solid #00ffcc;border-radius:10px;cursor:pointer;transition:all .3s;animation:rgbBorderGlow 3s infinite}button:hover,.btn:hover{background:#0055ff;box-shadow:0 0 20px #00aaff;color:#fff}.products-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-top:40px}.product-card{background:rgba(0,0,0,0.85);padding:20px;border-radius:10px;box-shadow:0 0 15px #00ffcc;transition:transform .3s}.product-card:hover{transform:translateY(-5px)}.product-card h3{font-size:24px;margin-bottom:10px}.product-card p{font-size:16px;margin-bottom:15px}form{max-width:600px;margin:0 auto;display:flex;flex-direction:column;gap:15px}input,textarea,select{padding:10px;font-size:16px;background:#111;color:#00ffcc;border:2px solid #00ffcc;border-radius:5px;animation:rgbBorderGlow 3s infinite}input:focus,textarea:focus,select:focus{outline:0;box-shadow:0 0 10px #00aaff}.admin-form{max-width:800px}.admin-form textarea{height:150px;resize:vertical}.admin-form .features-list{display:flex;flex-direction:column;gap:10px}.admin-form .features-list input{margin-bottom:5px}.social-links{margin-top:20px}.social-links a{font-size:24px;color:#00ffcc;margin:0 10px;transition:color .3s}.social-links a:hover{color:#ff00ff;text-shadow:0 0 10px #ff00ff}footer{background:rgba(0,0,0,0.85);padding:20px;text-align:center;position:relative;z-index:10;box-shadow:0 0 20px #00ffcc}footer p{font-size:16px}footer a{color:#ff00ff;text-decoration:none}footer a:hover{text-shadow:0 0 10px #ff00ff}.audio-control{position:fixed;bottom:10px;left:10px;background:rgba(0,0,0,0.5);padding:10px 15px;border-radius:12px;color:#00ffcc;font-size:14px;z-index:20}.login-tabs{display:flex;justify-content:center;gap:20px;margin-bottom:20px}.login-tabs button{background:none;border:none;color:#00ffcc;font-size:18px;cursor:pointer;padding:10px}.login-tabs button.active{color:#ff00ff;text-shadow:0 0 10px #ff00ff}@media (max-width:768px){nav{flex-direction:column;gap:10px}nav ul{flex-direction:column;align-items:center}section h1{font-size:32px}section p{font-size:16px}.products-grid{grid-template-columns:1fr}.admin-form{max-width:95%}}
  </style>
</head>
<body>
  <div id="particles-js"></div>
  <nav>
    <div class="logo">CRTY Software</div>
    <ul id="nav-links">
      <li><a href="#home" class="nav-link active">Ana Sayfa</a></li>
      <li><a href="#products" class="nav-link" id="products-nav" style="display:none">Ürünler</a></li>
      <li><a href="#about" class="nav-link">Hakkında</a></li>
      <li><a href="#contact" class="nav-link">Key</a></li>
      <li><a href="#admin" class="nav-link" id="admin-nav" style="display:none">Admin Paneli</a></li>
      <li><a href="#customer" class="nav-link" id="customer-nav" style="display:none">Müşteri Paneli</a></li>
      <li><a href="#auth" class="nav-link" id="auth-nav">Giriş/Kayıt</a></li>
      <li><button id="logout-btn" style="display:none">Çıkış Yap</button></li>
    </ul>
  </nav>
  <div class="container">
    <section id="home" class="active">
      <h1>CRTY Software</h1>
      <p>Hacker ruhuyla tasarlanan yenilikçi yazılım çözümleri. Sistemlerinizi optimize edin, sınırları zorlayın!</p>
      <a href="#products" class="btn" id="products-btn" style="display:none">Ürünleri Keşfet</a>
    </section>
    <section id="products">
      <h1>Ürünlerimiz</h1>
      <p>Kullanılabilir ürünleri görüntüleyin.</p>
      <input type="text" id="product-filter" placeholder="Ürün ara (ad veya kategori)">
      <div class="products-grid" id="products-grid"></div>
    </section>
    <section id="about">
      <h1>Hakkımızda</h1>
      <p>CRTY Software, teknoloji tutkunları için yenilikçi çözümler sunar. Misyonumuz, kullanıcıların sistemlerini maksimum performansa ulaştırmalarına yardımcı olmaktır.</p>
    </section>
    <section id="contact">
      <h1>İletişim</h1>
      <p>Bize ulaşın, sorularınızı yanıtlayalım!</p>
      <form id="contact-form">
        <input type="text" placeholder="Adınız" required>
        <input type="email" placeholder="E-posta" required>
        <textarea placeholder="Mesajınız" required></textarea>
        <button type="submit">Gönder</button>
      </form>
      <div class="social-links">
        <a href="https://x.com/crtsoftware" target="_blank" title="Twitter/X"><i class="fab fa-x-twitter"></i></a>
        <a href="https://discord.gg/crtsoftware" target="_blank" title="Discord"><i class="fab fa-discord"></i></a>
        <a href="https://github.com/crtsoftware" target="_blank" title="GitHub"><i class="fab fa-github"></i></a>
      </div>
    </section>
    <section id="auth">
      <h1>Giriş/Kayıt</h1>
      <div class="login-tabs">
        <button id="show-login" class="active">Giriş Yap</button>
        <button id="show-signup">Kayıt Ol</button>
      </div>
      <div id="login-form" class="active">
        <form id="login-form-inner">
          <input type="email" id="login-email" placeholder="E-posta" required>
          <input type="password" id="login-password" placeholder="Şifre" required>
          <button type="submit">Giriş Yap</button>
        </form>
      </div>
      <div id="signup-form" style="display:none">
        <form id="signup-form-inner">
          <input type="email" id="signup-email" placeholder="E-posta" required>
          <input type="password" id="signup-password" placeholder="Şifre" required>
          <select id="signup-role" required>
            <option value="customer">Müşteri</option>
            <option value="admin">Admin (Onay Gerektirir)</option>
          </select>
          <button type="submit">Kayıt Ol</button>
        </form>
      </div>
    </section>
    <section id="admin">
      <h1>Admin Paneli</h1>
      <div id="admin-dashboard">
        <h2>Admin Dashboard</h2>
        <button id="show-add-product">Ürün Ekle</button>
        <button id="show-products-admin">Ürünleri Listele</button>
        <button id="show-users">Kullanıcıları Listele</button>
        <div id="add-product-form" style="display:none">
          <h3>Ürün Ekle</h3>
          <form class="admin-form" id="product-form">
            <input type="text" id="product-name" placeholder="Ürün Adı" required>
            <textarea id="product-description" placeholder="Ürün Açıklaması" required></textarea>
            <select id="product-category" required>
              <option value="">Kategori Seçin</option>
              <option value="tweak">Tweak</option>
              <option value="security">Güvenlik</option>
              <option value="utility">Yardımcı Araç</option>
            </select>
            <input type="number" id="product-price" placeholder="Fiyat ($)" step="0.01" required>
            <input type="number" id="product-stock" placeholder="Stok Adedi" required>
            <div class="features-list" id="features-list">
              <label>Özellikler:</label>
              <input type="text" placeholder="Özellik 1">
            </div>
            <button type="button" id="add-feature">Özellik Ekle</button>
            <input type="text" id="product-image-url" placeholder="Görsel URL">
            <input type="text" id="product-tags" placeholder="Etiketler (virgülle ayırın)">
            <select id="product-status" required>
              <option value="draft">Taslak</option>
              <option value="published">Yayınla</option>
            </select>
            <button type="submit">Ürünü Kaydet</button>
          </form>
        </div>
        <div id="products-list-admin" style="display:none">
          <h3>Ürün Listesi</h3>
          <div id="admin-products-grid" class="products-grid"></div>
        </div>
        <div id="users-list" style="display:none">
          <h3>Kullanıcı Listesi</h3>
          <div id="users-grid" class="products-grid"></div>
        </div>
      </div>
    </section>
    <section id="customer">
      <h1>Müşteri Paneli</h1>
      <div id="customer-dashboard">
        <h2>Müşteri Dashboard</h2>
        <input type="text" id="customer-product-filter" placeholder="Ürün ara (ad veya kategori)">
        <div id="customer-products-grid" class="products-grid"></div>
      </div>
    </section>
  </div>
  <footer>
    <p>© 2025 CRTY Software. Tüm hakları saklıdır. Lisans: <a href="https://opensource.org/licenses/MIT" target="_blank">MIT Lisansı</a></p>
    <div class="social-links">
      <a href="https://x.com/crtsoftware" target="_blank" title="Twitter/X"><i class="fab fa-x-twitter"></i></a>
      <a href="https://discord.gg/crtsoftware" target="_blank" title="Discord"><i class="fab fa-discord"></i></a>
      <a href="https://github.com/crtsoftware" target="_blank" title="GitHub"><i class="fab fa-github"></i></a>
    </div>
  </footer>
  <audio id="bg-music" loop>
    <source src="https://raw.githubusercontent.com/CRTYPUBG/crty-tweaks/main/embedded/static/1.mp3" type="audio/mpeg">
  </audio>
  <div class="audio-control">
    🔊 Ses: <input type="range" id="volume-slider" min="0" max="100" value="30" style="vertical-align:middle">
  </div>
  <script>
    if (!window.supabase) console.error('Supabase kütüphanesi yüklenemedi. CDN bağlantısını kontrol edin.');
    const supabase = window.supabase.createClient('https://guolkrstbnjsgpmlxktf.supabase.co', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd1b2xrcnN0Ym5qc2dwbWx4a3RmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk1OTcwODgsImV4cCI6MjA2NTE3MzA4OH0.jCHuIAWWgmmElpn5lnLDvZ81Nue1B3qPSsyf1IK9yj0');
    particlesJS('particles-js', {particles:{number:{value:80,density:{enable:true,value_area:800}},color:{value:['#00ffcc','#ff00ff']},shape:{type:'circle'},opacity:{value:0.5,random:true},size:{value:3,random:true},line_linked:{enable:true,distance:150,color:'#00ffcc',opacity:0.4,width:1},move:{enable:true,speed:2,direction:'none',random:true,out_mode:'out'}},interactivity:{detect_on:'canvas',events:{onhover:{enable:true,mode:'repulse'},onclick:{enable:true,mode:'push'},resize:true},modes:{repulse:{distance:100,duration:0.4},push:{particles_nb:4}}},retina_detect:true});
    const navLinks = document.querySelectorAll('.nav-link'), sections = document.querySelectorAll('section');
    navLinks.forEach(link => {
      link.addEventListener('click', e => {
        e.preventDefault();
        const targetId = link.getAttribute('href').slice(1);
        sections.forEach(section => {
          section.classList.remove('active');
          if (section.id === targetId) section.classList.add('active');
        });
        navLinks.forEach(l => l.classList.remove('active'));
        link.classList.add('active');
      });
    });
    async function checkAuth() {
      const { data: { user } } = await supabase.auth.getUser();
      const productsNav = document.getElementById('products-nav'), productsBtn = document.getElementById('products-btn');
      const adminNav = document.getElementById('admin-nav'), customerNav = document.getElementById('customer-nav');
      const logoutBtn = document.getElementById('logout-btn'), authNav = document.getElementById('auth-nav');
      if (user) {
        const { data: userData, error } = await supabase.from('users').select('role').eq('id', user.id).single();
        if (error) {
          console.error('Kullanıcı rolü alınamadı:', error);
          return alert('Hata: Kullanıcı bilgileri alınamadı. Lütfen tekrar giriş yapın.');
        }
        productsNav.style.display = 'inline';
        productsBtn.style.display = 'inline-block';
        logoutBtn.style.display = 'inline';
        authNav.style.display = 'none';
        if (userData.role === 'admin') {
          adminNav.style.display = 'inline';
          customerNav.style.display = 'none';
        } else {
          adminNav.style.display = 'none';
          customerNav.style.display = 'inline';
        }
        loadProducts();
        if (userData.role === 'customer') loadCustomerProducts();
      } else {
        productsNav.style.display = 'none';
        productsBtn.style.display = 'none';
        adminNav.style.display = 'none';
        customerNav.style.display = 'none';
        logoutBtn.style.display = 'none';
        authNav.style.display = 'inline';
      }
    }
    const loginForm = document.getElementById('login-form-inner');
    loginForm.addEventListener('submit', async e => {
      e.preventDefault();
      const email = document.getElementById('login-email').value, password = document.getElementById('login-password').value;
      const { error } = await supabase.auth.signInWithPassword({ email, password });
      if (error) alert('Giriş başarısız: ' + error.message);
      else {
        await checkAuth();
        alert('Giriş başarılı!');
      }
    });
    const signupForm = document.getElementById('signup-form-inner');
    signupForm.addEventListener('submit', async e => {
      e.preventDefault();
      const email = document.getElementById('signup-email').value, password = document.getElementById('signup-password').value;
      const role = document.getElementById('signup-role').value;
      const { data, error } = await supabase.auth.signUp({ email, password });
      if (error) return alert('Kayıt başarısız: ' + error.message);
      if (data.user) {
        // Check if the user is confirmed
        if (!data.user.confirmed_at && data.user.confirmation_sent_at) {
          alert('Kayıt başarılı! Lütfen e-posta adresinizi doğrulayın.');
        } else {
          // Insert into users table only if user is confirmed or email confirmation is disabled
          const { error: insertError } = await supabase.from('users').insert([
            { id: data.user.id, email, role: role === 'admin' ? 'customer' : 'customer' }
          ]);
          if (insertError) {
            console.error('Kullanıcı kaydı tamamlanamadı:', insertError);
            return alert('Kullanıcı kaydı tamamlanamadı: ' + insertError.message);
          }
          alert('Kayıt başarılı! Giriş yapabilirsiniz. Admin rolü için onay bekleyin.');
        }
      }
    });
    document.getElementById('logout-btn').addEventListener('click', async () => {
      await supabase.auth.signOut();
      await checkAuth();
      alert('Çıkış yapıldı!');
    });
    const productForm = document.getElementById('product-form');
    productForm.addEventListener('submit', async e => {
      e.preventDefault();
      const features = Array.from(document.querySelectorAll('#features-list input')).map(input => input.value).filter(v => v);
      const tags = document.getElementById('product-tags').value.split(',').map(tag => tag.trim()).filter(tag => tag);
      const product = {
        name: document.getElementById('product-name').value,
        description: document.getElementById('product-description').value,
        category: document.getElementById('product-category').value,
        price: parseFloat(document.getElementById('product-price').value),
        stock: parseInt(document.getElementById('product-stock').value),
        features, tags,
        image_url: document.getElementById('product-image-url').value || null,
        status: document.getElementById('product-status').value
      };
      const { error } = await supabase.from('products').insert([product]);
      if (error) alert('Ürün eklenemedi: ' + error.message);
      else {
        alert('Ürün eklendi!');
        productForm.reset();
        document.querySelectorAll('#features-list input').forEach((input, i) => { if (i > 0) input.remove(); else input.value = ''; });
        loadProducts();
      }
    });
    async function loadProducts() {
      const { data, error } = await supabase.from('products').select('*');
      if (error) return console.error('Ürünler yüklenemedi:', error);
      const productsGrid = document.getElementById('products-grid'), adminProductsGrid = document.getElementById('admin-products-grid');
      productsGrid.innerHTML = ''; adminProductsGrid.innerHTML = '';
      data.forEach(product => {
        const adminCard = `<div class="product-card"><h3>${product.name}</h3><p>${product.description.substring(0, 100)}...</p><p>Fiyat: $${product.price}</p><p>Stok: ${product.stock}</p><button onclick="editProduct('${product.id}')">Düzenle</button><button onclick="deleteProduct('${product.id}')">Sil</button></div>`;
        const customerCard = `<div class="product-card"><h3>${product.name}</h3><p>${product.description.substring(0, 100)}...</p><p>Fiyat: $${product.price}</p><p>Stok: ${product.stock}</p><button onclick="buyProduct('${product.id}')">Satın Al</button></div>`;
        productsGrid.innerHTML += customerCard;
        adminProductsGrid.innerHTML += adminCard;
      });
    }
    async function loadCustomerProducts() {
      const { data, error } = await supabase.from('products').select('*').eq('status', 'published');
      if (error) return console.error('Ürünler yüklenemedi:', error);
      const customerProductsGrid = document.getElementById('customer-products-grid');
      customerProductsGrid.innerHTML = '';
      data.forEach(product => {
        const card = `<div class="product-card"><h3>${product.name}</h3><p>${product.description.substring(0, 100)}...</p><p>Fiyat: $${product.price}</p><p>Stok: ${product.stock}</p><button onclick="buyProduct('${product.id}')">Satın Al</button></div>`;
        customerProductsGrid.innerHTML += card;
      });
    }
    async function loadUsers() {
      const { data, error } = await supabase.from('users').select('*');
      if (error) return console.error('Kullanıcılar yüklenemedi:', error);
      const usersGrid = document.getElementById('users-grid');
      usersGrid.innerHTML = '';
      data.forEach(user => {
        const card = `<div class="product-card"><h3>${user.email}</h3><p>Rol: ${user.role}</p><button onclick="changeRole('${user.id}', '${user.role === 'admin' ? 'customer' : 'admin'}')">Rol Değiştir</button></div>`;
        usersGrid.innerHTML += card;
      });
    }
    window.editProduct = async (id) => {
      const { data, error } = await supabase.from('products').select('*').eq('id', id).single();
      if (error) return alert('Ürün yüklenemedi: ' + error.message);
      document.getElementById('product-name').value = data.name;
      document.getElementById('product-description').value = data.description;
      document.getElementById('product-category').value = data.category;
      document.getElementById('product-price').value = data.price;
      document.getElementById('product-stock').value = data.stock;
      document.getElementById('product-image-url').value = data.image_url || '';
      document.getElementById('product-tags').value = data.tags ? data.tags.join(', ') : '';
      document.getElementById('product-status').value = data.status;
      const featuresList = document.getElementById('features-list');
      featuresList.innerHTML = '<label>Özellikler:</label>';
      data.features.forEach((feature, i) => {
        const input = document.createElement('input');
        input.type = 'text'; input.value = feature; input.placeholder = `Özellik ${i + 1}`;
        featuresList.appendChild(input);
      });
      document.getElementById('add-product-form').style.display = 'block';
      document.getElementById('products-list-admin').style.display = 'none';
      document.getElementById('users-list').style.display = 'none';
      productForm.onsubmit = async e => {
        e.preventDefault();
        const features = Array.from(document.querySelectorAll('#features-list input')).map(input => input.value).filter(v => v);
        const tags = document.getElementById('product-tags').value.split(',').map(tag => tag.trim()).filter(tag => tag);
        const product = {
          name: document.getElementById('product-name').value,
          description: document.getElementById('product-description').value,
          category: document.getElementById('product-category').value,
          price: parseFloat(document.getElementById('product-price').value),
          stock: parseInt(document.getElementById('product-stock').value),
          features, tags,
          image_url: document.getElementById('product-image-url').value || null,
          status: document.getElementById('product-status').value
        };
        const { error } = await supabase.from('products').update(product).eq('id', id);
        if (error) alert('Ürün güncellenemedi: ' + error.message);
        else {
          alert('Ürün güncellendi!');
          productForm.reset();
          document.querySelectorAll('#features-list input').forEach((input, i) => { if (i > 0) input.remove(); else input.value = ''; });
          loadProducts();
          productForm.onsubmit = null;
        }
      };
    };
    window.deleteProduct = async (id) => {
      if (confirm('Ürünü silmek istediğinizden emin misiniz?')) {
        const { error } = await supabase.from('products').delete().eq('id', id);
        if (error) alert('Ürün silinemedi: ' + error.message);
        else {
          alert('Ürün silindi!');
          loadProducts();
        }
      }
    };
    window.buyProduct = (id) => {
      alert(`Ürün ID ${id} satın alma işlemi simüle edildi! (Gerçek ödeme entegrasyonu yok)`);
    };
    window.changeRole = async (id, newRole) => {
      if (confirm(`Kullanıcının rolünü ${newRole} olarak değiştirmek istiyor musunuz?`)) {
        const { error } = await supabase.from('users').update({ role: newRole }).eq('id', id);
        if (error) alert('Rol değiştirilemedi: ' + error.message);
        else {
          alert('Rol değiştirildi!');
          loadUsers();
        }
      }
    };
    const showAddProduct = document.getElementById('show-add-product'), showProductsAdmin = document.getElementById('show-products-admin');
    const showUsers = document.getElementById('show-users'), addProductForm = document.getElementById('add-product-form');
    const productsListAdmin = document.getElementById('products-list-admin'), usersList = document.getElementById('users-list');
    showAddProduct.addEventListener('click', () => {
      addProductForm.style.display = 'block';
      productsListAdmin.style.display = 'none';
      usersList.style.display = 'none';
      productForm.onsubmit = null;
    });
    showProductsAdmin.addEventListener('click', () => {
      addProductForm.style.display = 'none';
      productsListAdmin.style.display = 'block';
      usersList.style.display = 'none';
      loadProducts();
    });
    showUsers.addEventListener('click', () => {
      addProductForm.style.display = 'none';
      productsListAdmin.style.display = 'none';
      usersList.style.display = 'block';
      loadUsers();
    });
    const addFeatureBtn = document.getElementById('add-feature'), featuresList = document.getElementById('features-list');
    addFeatureBtn.addEventListener('click', () => {
      const newInput = document.createElement('input');
      newInput.type = 'text'; newInput.placeholder = `Özellik ${featuresList.querySelectorAll('input').length + 1}`;
      featuresList.appendChild(newInput);
    });
    const productFilter = document.getElementById('product-filter');
    productFilter.addEventListener('input', () => {
      const filter = productFilter.value.toLowerCase();
      const cards = document.querySelectorAll('#products-grid .product-card');
      cards.forEach(card => {
        const name = card.querySelector('h3').textContent.toLowerCase();
        card.style.display = name.includes(filter) ? 'block' : 'none';
      });
    });
    const customerProductFilter = document.getElementById('customer-product-filter');
    customerProductFilter.addEventListener('input', () => {
      const filter = customerProductFilter.value.toLowerCase();
      const cards = document.querySelectorAll('#customer-products-grid .product-card');
      cards.forEach(card => {
        const name = card.querySelector('h3').textContent.toLowerCase();
        card.style.display = name.includes(filter) ? 'block' : 'none';
      });
    });
    const showLogin = document.getElementById('show-login'), showSignup = document.getElementById('show-signup');
    const loginFormDiv = document.getElementById('login-form'), signupFormDiv = document.getElementById('signup-form');
    showLogin.addEventListener('click', () => {
      loginFormDiv.style.display = 'block';
      signupFormDiv.style.display = 'none';
      showLogin.classList.add('active');
      showSignup.classList.remove('active');
    });
    showSignup.addEventListener('click', () => {
      loginFormDiv.style.display = 'none';
      signupFormDiv.style.display = 'block';
      showLogin.classList.remove('active');
      showSignup.classList.add('active');
    });
    const audio = document.getElementById('bg-music'), slider = document.getElementById('volume-slider');
    slider.addEventListener('input', () => { audio.volume = slider.value / 100; });
    window.addEventListener('click', function startMusicOnce() {
      audio.volume = slider.value / 100;
      audio.play().catch(() => { console.warn('Tarayıcı otomatik müzik başlatmayı engelledi.'); });
      window.removeEventListener('click', startMusicOnce);
    });
    checkAuth();
  </script>
</body>
</html>
